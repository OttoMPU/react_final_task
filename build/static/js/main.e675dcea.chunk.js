(this["webpackJsonpfinal-task"]=this["webpackJsonpfinal-task"]||[]).push([[0],{82:function(e,t,a){e.exports=a(94)},87:function(e,t,a){},88:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),o=a.n(i),l=(a(87),a(22)),c=a(19),s=a(12),u=(a(88),a(17)),m=a(150),d=a(153),f=a(143),h=a(144),g=a(140),p=a(38),E=a(146),b=a(145),v=a(66),C=a.n(v),y=a(67),O=a.n(y),j=a(68),S=a.n(j),k=a(147),w=a(148),W=a(149),T=a(69),H=a.n(T),P=a(70),B=a.n(P),D=a(46),L=(a(61),a(132)),N=a(152),x=a(151),A=a(136),F=a(141),z=a(138),J=a(137);function Y(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0],o=a[1],u=Object(n.useState)({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),m=Object(s.a)(u,2),d=m[0],f=m[1],h=function(){e.addCustomer(d),o(!1)},g=function(e){f(Object(l.a)({},d,Object(c.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(L.a,{style:{marginLeft:"50%",marginTop:"3%",marginBottom:"1%"},variant:"outlined",color:"primary",onClick:function(){o(!0)}},"Add a customer"),r.a.createElement(A.a,{open:i,disableBackdropClick:!0,onClose:h,"aria-labelledby":"form-dialog-title"},r.a.createElement(J.a,{id:"form-dialog-title"},"New customer"),r.a.createElement(z.a,null,r.a.createElement(x.a,{autoFocus:!0,margin:"dense",id:"firstname",name:"firstname",value:d.firstname,onChange:g,label:"First name",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"lastname",name:"lastname",value:d.lastname,onChange:g,label:"Lastname",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"streetaddress",name:"streetaddress",value:d.streetaddress,onChange:g,label:"Street Address",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"postcode",name:"postcode",value:d.postcode,onChange:g,label:"Post Code",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"city",name:"city",value:d.city,onChange:g,label:"City",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"email",name:"email",value:d.email,onChange:g,label:"Email",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"phone",name:"phone",value:d.phone,onChange:g,label:"Phone",fullWidth:!0})),r.a.createElement(F.a,null,r.a.createElement(L.a,{onClick:function(){o(!1)},color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:h,color:"primary"},"Save"))))}function M(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0],o=a[1],u=Object(n.useState)({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),m=Object(s.a)(u,2),d=m[0],f=m[1],h=function(){e.updateCustomer(e.customer.links[0].href,d),o(!1)},g=function(e){f(Object(l.a)({},d,Object(c.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(L.a,{size:"small",color:"primary",onClick:function(){console.log(e.customer),f({firstname:e.customer.firstname,lastname:e.customer.lastname,streetaddress:e.customer.streetaddress,postcode:e.customer.postcode,city:e.customer.city,email:e.customer.email,phone:e.customer.phone}),o(!0)}},"Edit"),r.a.createElement(A.a,{open:i,disableBackdropClick:!0,onClose:h,"aria-labelledby":"form-dialog-title"},r.a.createElement(J.a,{id:"form-dialog-title"},"Edit customer"),r.a.createElement(z.a,null,r.a.createElement(x.a,{autoFocus:!0,margin:"dense",id:"firstname",name:"firstname",value:d.firstname,onChange:g,label:"First name",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"lastname",name:"lastname",value:d.lastname,onChange:g,label:"Lastname",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"streetaddress",name:"streetaddress",value:d.streetaddress,onChange:g,label:"Street Address",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"postcode",name:"postcode",value:d.postcode,onChange:g,label:"Post Code",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"city",name:"city",value:d.city,onChange:g,label:"City",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"email",name:"email",value:d.email,onChange:g,label:"Email",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"phone",name:"phone",value:d.phone,onChange:g,label:"Phone",fullWidth:!0})),r.a.createElement(F.a,null,r.a.createElement(L.a,{onClick:function(){o(!1)},color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:h,color:"primary"},"Save"))))}function I(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),c=l[0],u=l[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),f=d[0],h=d[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){fetch("https://customerrest.herokuapp.com/api/customers").then((function(e){return e.json()})).then((function(e){return i(e.content)})).catch((function(e){return console.error(e)}))},p=function(e,t){fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return g()})).then((function(e){h("Customer updated"),u(!0)})).catch((function(e){return console.error(e)}))},E=[{Header:"First Name",accessor:"firstname"},{Header:"Last Name",accessor:"lastname"},{Header:"Address",accessor:"streetaddress"},{Header:"Post code",accessor:"postcode"},{Header:"City",accessor:"city"},{Header:"Email",accessor:"email"},{Header:"Phone number",accessor:"phone"},{Cell:function(e){return r.a.createElement(M,{customer:e.original,updateCustomer:p})}},{Cell:function(e){return r.a.createElement(L.a,{onClick:function(){return t=e.original.links[0].href,void(window.confirm("Are you sure?")&&fetch(t,{method:"DELETE"}).then((function(e){return g()})).then((function(e){h("Customer deleted"),u(!0)})).catch((function(e){return console.error(e)})));var t}}," Delete ")}}];return r.a.createElement("div",null,r.a.createElement(Y,{addCustomer:function(e){fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return g()})).then((function(e){h("New customer added"),u(!0)})).catch((function(e){return console.error(e)}))}}),r.a.createElement(D.a,{defaultPageSize:10,filterable:!0,data:a,columns:E,style:{marginLeft:"11%",textAlign:"center"}}),r.a.createElement(N.a,{open:c,autoHideDuration:3e3,onClose:function(){u(!1)},message:f,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}var G=a(65),R=a.n(G);function U(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),i=a[0],o=a[1],u=Object(n.useState)({date:"",duration:"",activity:"",customer:""}),m=Object(s.a)(u,2),d=m[0],f=m[1],h=function(){e.addTraining(d),o(!1)},g=function(e){f(Object(l.a)({},d,Object(c.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement(L.a,{style:{marginLeft:"50%",marginTop:"3%",marginBottom:"1%"},variant:"outlined",color:"primary",onClick:function(){o(!0)}},"Add a training"),r.a.createElement(A.a,{open:i,disableBackdropClick:!0,onClose:h,"aria-labelledby":"form-dialog-title"},r.a.createElement(J.a,{id:"form-dialog-title"},"New training"),r.a.createElement(z.a,null,r.a.createElement(x.a,{autoFocus:!0,margin:"dense",id:"date",name:"date",value:d.date,onChange:g,label:"Date",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"duration",name:"duration",value:d.duration,onChange:g,label:"Duration",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"activity",name:"activity",value:d.activity,onChange:g,label:"Activity",fullWidth:!0}),r.a.createElement(x.a,{margin:"dense",id:"customer",name:"customer",value:d.customer,onChange:g,label:"Customer",fullWidth:!0})),r.a.createElement(F.a,null,r.a.createElement(L.a,{onClick:function(){o(!1)},color:"primary"},"Cancel"),r.a.createElement(L.a,{onClick:h,color:"primary"},"Save"))))}function $(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),c=l[0],u=l[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),f=d[0],h=d[1];Object(n.useEffect)((function(){g()}),[]);var g=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){return console.error(e)}))},p=[{Header:"Date",accessor:"date",Cell:function(e){return R()(e.value).format("DD-MM-YYYY hh:mm:ss a")}},{Header:"Duration (minutes)",accessor:"duration"},{Header:"Activity",accessor:"activity"},{Header:"Customer",accessor:"customer.lastname"},{Cell:function(e){return r.a.createElement(L.a,{onClick:function(){return t="https://customerrest.herokuapp.com/api/trainings/"+e.original.id,void(window.confirm("Are you sure?")&&fetch(t,{method:"DELETE"}).then((function(e){return g()})).then((function(e){h("Training deleted"),u(!0)})).catch((function(e){return console.error(e)})));var t}}," Delete ")}}];return r.a.createElement("div",null,r.a.createElement(U,{addTraining:function(e){fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return g()})).then((function(e){h("New training added"),u(!0)})).catch((function(e){return console.error(e)}))}}),r.a.createElement(D.a,{defaultPageSize:10,filterable:!0,data:a,columns:p,style:{marginLeft:"11%",textAlign:"center"}}),r.a.createElement(N.a,{open:c,autoHideDuration:3e3,onClose:function(){u(!1)},message:f,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}var q=a(142),K=a(4);var Q=Object(m.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),V=function(){var e=Object(u.a)(),t=Q(),a=r.a.useState(!1),n=Object(s.a)(a,2),i=n[0],o=n[1],l=r.a.useState(0),m=Object(s.a)(l,2),v=m[0],y=m[1];return r.a.createElement("div",{className:t.root},r.a.createElement(q.a,null),r.a.createElement(f.a,{position:"fixed",className:Object(K.a)(t.appBar,Object(c.a)({},t.appBarShift,i))},r.a.createElement(h.a,null,r.a.createElement(b.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start"},r.a.createElement(C.a,null)),r.a.createElement(p.a,{variant:"h6",noWrap:!0},"PersonalTrainer"))),r.a.createElement(d.a,{variant:"persistent",anchor:"left",open:i},r.a.createElement("div",null,r.a.createElement(b.a,{onClick:function(){o(!1)}},"ltr"===e.direction?r.a.createElement(O.a,null):r.a.createElement(S.a,null))),r.a.createElement(E.a,null),r.a.createElement(g.a,null,r.a.createElement(k.a,{button:!0,onClick:function(){return y(0)}},r.a.createElement(w.a,null,r.a.createElement(H.a,null)),r.a.createElement(W.a,{primary:"Customers"})),r.a.createElement(k.a,{button:!0,onClick:function(){return y(1)}},r.a.createElement(w.a,null,r.a.createElement(B.a,null)),r.a.createElement(W.a,{primary:"Trainings"})))),r.a.createElement("div",{className:Object(K.a)(t.content,Object(c.a)({},t.contentShift,i))},0===v?r.a.createElement(I,null):r.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[82,1,2]]]);
//# sourceMappingURL=main.e675dcea.chunk.js.map